# ［C++］WG21月次提案文書を眺める（2020年7月）

文書の一覧
[http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/#mailing2020-07:embed:cite]

提案文書で採択されたものはありません。全部で34本あります。

[:contents]

### [P1068R4 : Vector API for random number generation](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1068r4.pdf)

`<random>`にある既存の分布生成器にイテレータ範囲を乱数で初期化するAPIを追加する提案。

既存の分布生成器はスカラーAPI（1度に1つの乱数しか取得できないAPI）しか備えておらず、乱数エンジンが状態を持つことと合わさってコンパイラによる最適化を妨げており、1度に多量の乱数を取得する場合に効率的ではなくなることがあります。しかし、既存の擬似乱数生成アルゴリズムには多数の乱数生成の際にSIMDを利用するような形に書き換えて効率化する事ができるものが多数あります。そのような用途のためのベクターAPI（1度に多数の乱数を取得できるAPI）を別途追加し、実装がその中で各種分布生成器やエンジンの特性によって最適な実装を行えるようにし、またコンパイラに最適化の機会を提供可能にすることがこの提案の目的です。

当初はSIMDタイプのAPIも同時提案していたようですが、途中でそれは別の提案に分離されたため、この提案ではイテレータによるベクターAPIの追加のみを提案しています。

```cpp
std::array<float, N> array; 

std::mt19937 gen(777);  // 乱数エンジン
std::uniform_real_distribution dis(1.f, 2.f); // 分布生成器

// 範囲を乱数列で初期化する、現在はこう書くしかない
for (auto& el : array) {
  el = dis(gen);
}

// この提案によるAPI、イテレータ範囲を乱数列で初期化する
dis(array.begin(), array.end(), gen);
```

これは必ずしも対応する`for`ループによる範囲の要素毎の初期化コードと同じ効果とはならず、より効率的に実装される可能性があります。

- [P1068 進行状況](https://github.com/cplusplus/papers/issues/409)

### [P1184R2 : A Module Mapper](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1184r2.pdf)
### [P1272R3 : Byteswapping for fun&&nuf](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1272r3.html)
### [P1478R4 : Byte-wise atomic memcpy](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1478r4.html)
### [P1642R4 : Freestanding Library: Easy [utilities], [ranges], and [iterators]](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1642r4.html)
### [P1659R1 : starts_with and ends_with](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1659r1.html)
### [P1679R3 : String Contains function](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1679r3.html)
### [P1726R4 : Pointer lifetime-end zap](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1726r4.pdf)
### [P1864R0 : Defining Target Tuplets](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p1864r0.html)
### [P2000R2 Direction for ISO C++](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2000r2.pdf)
### [P2029R2 : Proposed resolution for core issues 411, 1656, and 2333; escapes in character and string literals](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2029r2.html)
### [P2075R1 : Philox as an extension of the C++ RNG engines](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2075r1.pdf)
### [P2093R1 : Formatted output](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2093r1.html)
### [P2128R2 : Multidimensional subscript operator](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2128r2.pdf)
### [P2139R2 : Reviewing Deprecated Facilities of C++20 for C++23](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2139r2.html)
### [P2146R2 : Modern std::byte stream IO for C++](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2146r2.pdf)
### [P2161R2 : Remove Default Candidate Executor](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2161r2.pdf)
### [P2165R1 : Compatibility between tuple and tuple-like objects](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2165r1.pdf)
### [P2169R1 : A Nice Placeholder With No Name](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2169r1.pdf)
### [P2178R1 : Misc lexing and string handling improvements](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2178r1.pdf)
### [P2183R0 : Executors Review: Properties](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2183r0.html)
### [P2186R0 : Removing Garbage Collection Support](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2186r0.html)
### [P2187R3 : std::swap_if, std::predictable](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2187r3.pdf)
### [P2188R1 : Zap the Zap: Pointers are sometimes just bags of bits](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2188r1.html)
### [P2191R0 : Modules: ADL & GMFs do not play together well (anymore)](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2191r0.pdf)
### [P2192R0 std::valstat - function return type](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2192r0.pdf)
### [P2193R0 : How to structure a teaching topic](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2193r0.pdf)
### [P2193R1 : How to structure a teaching topic](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2193r1.pdf)
### [P2196R0 : A lifetime-extending forwarder](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2196r0.pdf)
### [P2198R0 Freestanding Feature-Test Macros and Implementation-Defined Extensions](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2198r0.html)
### [P2199R0 : Concepts to differentiate types](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2199r0.html)
### [P2201R0 : Mixed string literal concatenation](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2201r0.html)
### [P2202R0 : Senders/Receivers group Executors review report](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2202r0.pdf)
### [P2203R0 : LEWG Executors Customization Point Report](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2203r0.pdf)
