# ［C++］WG21月次提案文書を眺める（2023年08月）

文書の一覧

- [JTC1/SC22/WG21 - Papers 2022 mailing2023-09](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/#mailing2023-09)

全部で40本あります。

もくじ

[:contents]

### [P0843R9 inplace_vector](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p0843r9.html)
### [P1068R9 Vector API for random number generation](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p1068r9.pdf)
### [P1255R10 A view of 0 or 1 elements: views::maybe](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p1255r10.pdf)
### [P2264R5 Make assert() macro user friendly for C and C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2264r5.html)
### [P2542R4 views::concat](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2542r4.html)
### [P2542R5 views::concat](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2542r5.html)
### [P2686R2 constexpr structured bindings and references to constexpr variables](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2686r2.pdf)
### [P2748R2 Disallow Binding a Returned Glvalue to a Temporary](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2748r2.html)
### [P2755R0 A Bold Plan for a Complete Contracts Facility](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2755r0.pdf)

C++の契約プログラミング機能について、将来的な完成形のための計画を練る提案。

現在、C++26に向けて契約プログラミング機能を導入すべく作業が続けられていますが、それは本来の契約プログラミング機能の合意がとれたサブセットです。本来想定される契約プログラミング機能はより広いものですが、そこにはまだ合意がとれていないものや議論が紛糾しているもの、実装経験が乏しいものなどが含まれており、それらを全て導入しようとすればさらに長い時間が必要となります。

この提案は、そのような最終的なC++契約プログラミング機能がどのようなニーズの元に構成され、何を備えているべきかを説明し、提案するものです。必然的に、C++26に導入されようとしている機能を超えた部分についての提案になっています。

1章を除いた残りの部分は

- 2章 : 契約機能のC++におけるユースケースについての説明
- 3章 : 提案する個々の機能についての解説や提案
- 4章 : 3章を踏まえた、より大規模で現実的なサンプルの提示
- 5章 : 最終的に対処する必要がある、言語と契約機能についての他の（3章に含まれない）側面についての議論

のような構成となっています。

- [P2958 進行状況](https://github.com/cplusplus/papers/issues/1630)

### [P2760R0 A Plan for C++26 Ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2760r0.html)

C++26に向けての、`<ranges>`ライブラリ関連作業の予定表。

C++23では`<ranges>`ライブラリ関連作業のまとめを[P2214](https://wg21.link/p2214r2)で行っていました。最終的に、そこで提案されていた優先度1のほとんどのものと優先度2の一部のものをC++23に導入することができました。

この提案は、C++26でも同様に作業を優先付けして分類し、追加の考慮が必要なものについてまとめておくためのものです。

この提案で優先度1とされているものは次のものです

- Rangeアダプタ
    - `views::concat`
    - `take/drop`のファミリ
      - `views::drop_last`と`views::take_last`
      - `views::drop_last_while`と`views::take_last_while`
      - `views::drop_exactly`と`views::take_exactly`
      - `views::slice`
    - 単純な合成アダプタ
      - `views::transform_join`
      - `views::replace`と`views::replace_if`
      - `views::remove`と`views::remove_if`
      - `views::upto`
    - `views::as_input`
    - `views::cache_last`
    - `views::chunk_on`
    - `views::cycle`
    - `views::delimit`と`views::c_str`
    - より複雑な状況における、より多くのアダプタの`borrowed_range`対応
    - ジェネレータ
      - `views::scan`
      - `views::generate`と`views::generate_n`
- Rangeアルゴリズム
    - `ranges::reduce`
    - `ranges::sum`
    - `ranges::product`

他にも優先度2と3の分類がありますが、C++26に向けてはこの優先度1のものについての作業を優先的に行う予定です。

- [P2760 進行状況](https://github.com/cplusplus/papers/issues/1635)

### [P2762R1 Sender/Receiver Interface For Networking](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2762r1.pdf)
### [P2833R2 Freestanding Library: inout expected span](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2833r2.html)
### [P2846R1 size_hint: Eagerly reserving memory for not-quite-sized lazy ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2846r1.pdf)
### [P2865R3 Remove Deprecated Array Comparisons from C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2865r3.pdf)
### [P2866R1 Remove Deprecated Volatile Features From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2866r1.pdf)
### [P2867R1 Remove Deprecated strstreams From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2867r1.html)
### [P2868R2 Remove Deprecated `std::allocator` Typedef From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2868r2.pdf)
### [P2869R2 Remove Deprecated `shared_ptr` Atomic Access APIs From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2869r2.pdf)
### [P2870R2 Remove `basic_string::reserve()` From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2870r2.pdf)
### [P2871R2 Remove Deprecated Unicode Conversion Facets From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2871r2.pdf)
### [P2872R2 Remove `wstring_convert` From C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2872r2.pdf)
### [P2875R2 Undeprecate `polymorphic_allocator::destroy` For C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2875r2.pdf)
### [P2885R2 Requirements for a Contracts syntax](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2885r2.pdf)
### [P2909R1 Fix formatting of code units as integers (Dude, where's my char?)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2909r1.html)
### [P2909R2 Fix formatting of code units as integers (Dude, where's my char?)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2909r2.html)
### [P2932R0 A Principled Approach to Open Design Questions for Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2932r0.pdf)
### [P2935R1 An Attribute-Like Syntax for Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2935r1.pdf)
### [P2935R2 An Attribute-Like Syntax for Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2935r2.pdf)
### [P2944R2 Comparisons for reference_wrapper](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2944r2.html)
### [P2951R3 Shadowing is good for safety](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2951r3.html)
### [P2955R1 Safer Range Access](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2955r1.html)
### [P2961R0 A natural syntax for Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2961r0.pdf)
### [P2963R0 Ordering of constraints involving fold expressions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2963r0.pdf)
### [P2966R0 Making C++ Better for Game Developers -- Progress Report](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2966r0.pdf)
### [P2966R1 Making C++ Better for Game Developers -- Progress Report](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2966r1.pdf)
### [P2968R0 Make std.ignore a first-class object](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2968r0.html)
### [P2971R0 Implication for C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2971r0.pdf)
### [P2972R0 2023-09 Library Evolution Polls](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2972r0.html)
### [P2973R0 Erroneous behaviour for missing return from assignment](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2973r0.html)
### [P2976R0 Freestanding Library: algorithm, numeric, and random](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2976r0.html)